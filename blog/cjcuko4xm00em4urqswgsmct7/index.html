<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/blog/lib/fancybox/source/jquery.fancybox.css" rel="stylesheet" type="text/css" />







<link href="/blog/lib/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css" />

<link href="/blog/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/blog/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/blog/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/blog/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/blog/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="JavaScript,Mozilla,Firefox," />










<meta name="description" content="JavaScript 1.6 引入了若干新特性：E4X，新的Array方法，及数组和字符串泛型。 1. 数组扩展七个新的Array方法可以分成两类：项（item）的定位方法和迭代方法。项定位方法为：1.1 indexOf(): 返回指定项首次出现的索引，没有的话，返回 -1。语法：array.indexOf(searchElement[, fromIndex])参数：&amp;nbsp;&amp;nbsp;&amp;nb">
<meta name="keywords" content="JavaScript,Mozilla,Firefox">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaScript 1.6">
<meta property="og:url" content="https://vanessa.js.org/blog/cjcuko4xm00em4urqswgsmct7/index.html">
<meta property="og:site_name" content="Vanessa">
<meta property="og:description" content="JavaScript 1.6 引入了若干新特性：E4X，新的Array方法，及数组和字符串泛型。 1. 数组扩展七个新的Array方法可以分成两类：项（item）的定位方法和迭代方法。项定位方法为：1.1 indexOf(): 返回指定项首次出现的索引，没有的话，返回 -1。语法：array.indexOf(searchElement[, fromIndex])参数：&amp;nbsp;&amp;nbsp;&amp;nb">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2018-01-22T02:16:34.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="JavaScript 1.6">
<meta name="twitter:description" content="JavaScript 1.6 引入了若干新特性：E4X，新的Array方法，及数组和字符串泛型。 1. 数组扩展七个新的Array方法可以分成两类：项（item）的定位方法和迭代方法。项定位方法为：1.1 indexOf(): 返回指定项首次出现的索引，没有的话，返回 -1。语法：array.indexOf(searchElement[, fromIndex])参数：&amp;nbsp;&amp;nbsp;&amp;nb">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/blog/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://vanessa.js.org/blog/cjcuko4xm00em4urqswgsmct7/"/>





  <title>JavaScript 1.6 | Vanessa</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/blog/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Vanessa</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/blog/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/blog/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://vanessa.js.org/blog/blog/cjcuko4xm00em4urqswgsmct7/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Vanessa">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Vanessa">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">JavaScript 1.6</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2011-11-18T04:06:39+08:00">
                2011-11-18
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p></p><p>JavaScript 1.6 引入了若干新特性：E4X，新的<code>Array</code>方法，及数组和字符串泛型。</p><p></p>
<div id="section_2"><br><h3 class="editable">1. 数组扩展</h3><br><p>七个新的<code><span class="new ">Array</span></code>方法可以分成两类：项（item）的定位方法和迭代方法。</p><br><p><strong>项定位方法为：</strong></p><br><code><span class="new "><strong>1.1</strong> <strong>indexOf()</strong></span></code>: 返回指定项首次出现的索引，没有的话，返回 -1。<br><div id="section_2"><code>语法：<em>array</em>.indexOf(<em>searchElement</em>[, <em>fromIndex</em>])</code></div><br><div>参数：</div><br><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code>searchElement&nbsp;&nbsp;&nbsp; 需在数组中搜索的元素<br></code></div><br><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code>fromIndex &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 开始搜索的位置，默认为 0。</code></div><br><div>描述：在数组中索引元素时，使用全等（===）</div><br><div>兼容性：于 ECMA-262 标准中添加，部分浏览器可能会不支持。您可以添加以下代码来进行支持。该算法严格遵循 ECMA-262 第五版，但必须保证 &nbsp;<code style="color: inherit; font-weight: inherit;">Object</code>,&nbsp;<code style="color: inherit; font-weight: inherit;">TypeError</code>,&nbsp;<code>Number</code>, <code>Math.floor</code>, <code>Math.abs</code>,<code> Math.max</code> 可用。&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div><br><div>&nbsp;</div><br><pre class="brush: js">          if (!Array.prototype.indexOf) {<br>                Array.prototype.indexOf = function (searchElement /<em>, fromIndex </em>/ ) {<br>                    “use strict”;<br>                    if (this === void 0 || this === null) {<br>                        throw new TypeError();<br>                    }<br>                    var t = Object(this);<br>                    var len = t.length &gt;&gt;&gt; 0;<br>                    if (len === 0) {<br>                        return -1;<br>                    }<br>                    var n = 0;<br>                    if (arguments.length &gt; 0) {<br>                        n = Number(arguments[1]);<br>                        if (n !== n) { // shortcut for verifying if it’s NaN<br>                            n = 0;<br>                        } else if (n !== 0 &amp;&amp; n !== Infinity &amp;&amp; n !== -Infinity) {<br>                            n = (n &gt; 0 || -1) <em> Math.floor(Math.abs(n));<br>                        }<br>                    }<br>                    if (n &gt;= len) {<br>                        return -1;<br>                    }<br>                    var k = n &gt;= 0 ? n : Math.max(len - Math.abs(n), 0);<br>                    for (; k &lt; len; k++) {<br>                        if (k in t &amp;&amp; t[k] === searchElement) {<br>                            return k;<br>                        }<br>                    }<br>                    return -1;<br>                }<br>            } </em></pre><br><div id="section_2"><br><strong><code><span class="new ">1.2 lastIndexOf()</span></code></strong>: 返回指定项最后一次出现的索引。</div><br><div><br><div id="section_2"><code>语法：<em>array</em>.<code>lastIndexOf</code>(<em>searchElement</em>[, <em>fromIndex</em>])</code></div><br><div>参数：</div><br><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code>searchElement&nbsp;&nbsp;&nbsp; 需在数组中搜索的元素<br></code></div><br><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code>fromIndex &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 开始搜索的位置，默认为 0。</code></div><br><div>描述：在数组中索引元素时，使用全等（===）</div><br></div><br><div>兼容性：于 ECMA-262 标准中添加，部分浏览器可能会不支持。您可以添加以下代码来进行支持。该算法严格遵循 ECMA-262 第五版，但必须保证 &nbsp;<code style="color: inherit; font-weight: inherit;">Object</code>,&nbsp;<code style="color: inherit; font-weight: inherit;">TypeError</code>,&nbsp;<code>Number</code>, <code>Math.floor</code>, <code>Math.abs</code>,&nbsp; <code>Math.min</code> 可用。</div><br><div><br><pre class="brush: js">    if (!Array.prototype.lastIndexOf)  {<br>      Array.prototype.lastIndexOf = function(searchElement /, fromIndex<em>/)  {<br>        “use strict”;<br><br>        if (this === void 0 || this === null)<br>          throw new TypeError();<br><br>        var t = Object(this);<br>        var len = t.length &gt;&gt;&gt; 0;<br>        if (len === 0)<br>          return -1;<br><br>        var n = len;<br>        if (arguments.length &gt; 1)  {<br>          n = Number(arguments[1]);<br>          if (n !== n)<br>            n = 0;<br>          else if (n !== 0 &amp;&amp; n !== (1 / 0) &amp;&amp; n !== -(1 / 0))<br>            n = (n &gt; 0 || -1) </em> Math.floor(Math.abs(n));<br>        }<br><br>        var k = n &gt;= 0<br>              ? Math.min(n, len - 1)<br>              : len - Math.abs(n);<br><br>        for (; k &gt;= 0; k–)  {<br>          if (k in t &amp;&amp; t[k] === searchElement)<br>            return k;<br>        }<br>        return -1;<br>      };<br>    }  </pre><br></div><br><p><strong>迭代方法包括：</strong></p><br></div><br><div id="section_2"><strong><code><span class="new ">1.3 every()</span></code></strong>: 在数组中的每个项上运行一个函数，若所有结果都返回真值，此方法亦返回真值。</div><br><div><br><div><br><div id="section_2"><code>语法：<em></em><code><em>array</em>.every(<em>callback</em>[, <em>thisObject</em>])</code></code></div><br><div>参数：</div><br><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code>callback</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 为每个元素执行的测试函数</div><br><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; arguments[0]: 当前元素值</div><br><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; arguments[1]: 当前元位置</div><br><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; arguments[2]: 当前数组</div><br><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; thisObject&nbsp;&nbsp; </code><code>callback 中的 this</code>.</div><br></div><br></div><br><div>兼容性：于 ECMA-262 标准中添加，部分浏览器可能会不支持。您可以添加以下代码来进行支持。该算法严格遵循 ECMA-262 第五版，但必须保证 &nbsp;<code style="color: inherit; font-weight: inherit;">Object</code>,&nbsp;<code style="color: inherit; font-weight: inherit;">TypeError</code> 可用，且 <code style="color: inherit; font-weight: inherit;">fun.call</code> 指向 <span style="color: #000000;"><code style="color: inherit; font-weight: inherit;"><span style="text-decoration: none;">Function.prototype.call</span></code></span>。</div><br><div><br><pre class="brush: js">if (!Array.prototype.every)  {<br>  Array.prototype.every = function(fun /<em>, thisp </em>/)  {<br>    “use strict”;<br><br>    if (this === void 0 || this === null)<br>      throw new TypeError();<br><br>    var t = Object(this);<br>    var len = t.length &gt;&gt;&gt; 0;<br>    if (typeof fun !== “function”)<br>      throw new TypeError();<br><br>    var thisp = arguments[1];<br>    for (var i = 0; i &lt; len; i++)  {<br>      if (i in t &amp;&amp; !fun.call(thisp, t[i], i, t))<br>        return false;<br>    }<br><br>    return true;<br>  };<br>} </pre><br></div><br><div><br> <strong><code><span class="new ">1.4 filter()</span></code></strong>: 在数组中的每个项上运行一个函数，并将函数返回真值的项作为数组返回。</div><br><div><br><div id="section_2"><code>语法：<em></em><code><em>array</em>.filter(<em>callback</em>[, <em>thisObject</em>])</code></code></div><br><div>参数：</div><br><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code>callback</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 为每个元素执行的函数</div><br><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; arguments[0]: 当前元素值</div><br><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; arguments[1]: 当前元位置</div><br><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; arguments[2]: 当前数组</div><br><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; thisObject&nbsp;&nbsp; </code><code>callback 中的 this</code>.</div><br><div>兼容性：于 ECMA-262 标准中添加，部分浏览器可能会不支持。您可以添加以下代码来进行支持。该算法严格遵循 ECMA-262 第五版，但必须保证 &nbsp;<code style="color: inherit; font-weight: inherit;">Object</code>,&nbsp;<code style="color: inherit; font-weight: inherit;">TypeError</code>,&nbsp;Array.prototype.push 可用，且 <code style="color: inherit; font-weight: inherit;">fun.call</code> 指向 <span style="color: #000000;"><code style="color: inherit; font-weight: inherit;"><span style="text-decoration: none;">Function.prototype.call</span></code></span>。</div><br><strong><code></code></strong></div><br><div><br><pre class="brush: js">if (!Array.prototype.filter)  {<br>  Array.prototype.filter = function(fun /<em>, thisp </em>/) {<br>    “use strict”;<br><br>    if (this === void 0 || this === null)<br>      throw new TypeError();<br><br>    var t = Object(this);<br>    var len = t.length &gt;&gt;&gt; 0;<br>    if (typeof fun !== “function”)<br>      throw new TypeError();<br><br>    var res = [];<br>    var thisp = arguments[1];<br>    for (var i = 0; i &lt; len; i++)  {<br>      if (i in t)  {<br>        var val = t[i]; // in case fun mutates this<br>        if (fun.call(thisp, val, i, t))<br>          res.push(val);<br>      }<br>    }<br><br>    return res;<br>  };<br>} </pre><br></div><br><div><strong><span class="new "><br></span></strong></div><br><div><strong><code><span class="new ">1.5 forEach()</span></code></strong>: 在数组中的每个项上运行一个函数。<br> <strong><code></code></strong></div><br><div><br><div id="section_2"><code>语法：<code><code><em>array</em>.forEach(<em>callback</em>[, <em>thisArg</em>])</code></code></code></div><br><div>参数：</div><br><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code>callback</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 为每个元素执行的函数</div><br><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; arguments[0]: 当前元素值</div><br><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; arguments[1]: 当前元位置</div><br><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; arguments[2]: 当前数组</div><br><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code><code><code><em>thisArg</em></code></code></code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code>callback 中的 this</code>.</div><br><div><span class="new ">兼容性：</span><span class="new ">于 ECMA-262 标准中添加，部分浏览器可能会不支持。您可以添加以下代码来进行支持。该算法严格遵循 ECMA-262 第五版，但必须保证 &nbsp;</span><span class="new "><code style="color: inherit; font-weight: inherit;">Object</code>,&nbsp;<code style="color: inherit; font-weight: inherit;">TypeError</code> 可用，且 <code style="color: inherit; font-weight: inherit;">fun.call</code> 指向 <span style="color: #000000;"><code style="color: inherit; font-weight: inherit;"><span style="text-decoration: none;">Function.prototype.call</span></code></span>。</span></div><br></div><br><div><br><pre class="brush: js">    // Production steps of ECMA-262, Edition 5, 15.4.4.18<br>    // Reference: <a href="http://es5.github.com/#x15.4.4.18" target="_blank" rel="noopener">http://es5.github.com/#x15.4.4.18</a><br>    if ( !Array.prototype.forEach ) {<br><br>      Array.prototype.forEach = function( callback, thisArg ) {<br><br>        var T, k;<br><br>        if ( this == null ) {<br>          throw new TypeError( “ this is null or not defined” );<br>        }<br><br>        // 1. Let O be the result of calling ToObject passing the |this| value as the argument.<br>        var O = Object(this);<br><br>        // 2. Let lenValue be the result of calling the Get internal method of O with the argument “length”.<br>        // 3. Let len be ToUint32(lenValue).<br>        var len = O.length &gt;&gt;&gt; 0; // Hack to convert O.length to a UInt32<br><br>        // 4. If IsCallable(callback) is false, throw a TypeError exception.<br>        // See: <a href="http://es5.github.com/#x9.11" target="_blank" rel="noopener">http://es5.github.com/#x9.11</a><br>        if ( {}.toString.call(callback) != “[object Function]” ) {<br>          throw new TypeError( callback + “ is not a function” );<br>        }<br><br>        // 5. If thisArg was supplied, let T be thisArg; else let T be undefined.<br>        if ( thisArg ) {<br>          T = thisArg;<br>        }<br><br>        // 6. Let k be 0<br>        k = 0;<br><br>        // 7. Repeat, while k &lt; len<br>        while( k &lt; len ) {<br><br>          var kValue;<br><br>          // a. Let Pk be ToString(k).<br>          //   This is implicit for LHS operands of the in operator<br>          // b. Let kPresent be the result of calling the HasProperty internal method of O with argument Pk.<br>          //   This step can be combined with c<br>          // c. If kPresent is true, then<br>          if ( k in O ) {<br><br>            // i. Let kValue be the result of calling the Get internal method of O with argument Pk.<br>            kValue = O[ k ];<br><br>            // ii. Call the Call internal method of callback with T as the this value and<br>            // argument list containing kValue, k, and O.<br>            callback.call( T, kValue, k, O );<br>          }<br>          // d. Increase k by 1.<br>          k++;<br>        }<br>        // 8. return undefined<br>      };<br>    }  </pre><br></div><br><div><strong><span class="new "><br></span></strong></div><br><div><strong><code><span class="new ">1.6 map()</span></code>:</strong> 在数组中的每个项上运行一个函数，并将全部结果作为数组返回。</div><br><div><br><div><br><div id="section_2"><code>语法：<code><code><em></em><code><em>array</em>.map(<em>callback</em>[, <em>thisArg</em>])</code></code></code></code></div><br><div>参数：</div><br><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code>callback</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 为每个元素执行的函数</div><br><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; arguments[0]: 当前元素值</div><br><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; arguments[1]: 当前元位置</div><br><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; arguments[2]: 当前数组</div><br><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code><code><code><em>thisArg</em></code></code></code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; callback 中的 this</code>.</div><br><div><span class="new ">兼容性：</span><span class="new ">于 ECMA-262 标准中添加，部分浏览器可能会不支持。您可以添加以下代码来进行支持。该算法严格遵循 ECMA-262 第五版，但必须保证 &nbsp;</span><span class="new "><code style="color: inherit; font-weight: inherit;">Object</code>,&nbsp;<code style="color: inherit; font-weight: inherit;">TypeError</code>, Array 可用，且 <code style="color: inherit; font-weight: inherit;">fun.call</code> 指向 <span style="color: #000000;"><code style="color: inherit; font-weight: inherit;"><span style="text-decoration: none;">Function.prototype.call</span></code></span>。</span></div><br></div><br><pre class="brush: js">// Production steps of ECMA-262, Edition 5, 15.4.4.19<br>// Reference: <a href="http://es5.github.com/#x15.4.4.19" target="_blank" rel="noopener">http://es5.github.com/#x15.4.4.19</a><br>if (!Array.prototype.map) {<br>  Array.prototype.map = function(callback, thisArg) {<br><br>    var T, A, k;<br><br>    if (this == null) {<br>      throw new TypeError(“ this is null or not defined”);<br>    }<br><br>    // 1. Let O be the result of calling ToObject passing the |this| value as the argument.<br>    var O = Object(this);<br><br>    // 2. Let lenValue be the result of calling the Get internal method of O with the argument “length”.<br>    // 3. Let len be ToUint32(lenValue).<br>    var len = O.length &gt;&gt;&gt; 0;<br><br>    // 4. If IsCallable(callback) is false, throw a TypeError exception.<br>    // See: <a href="http://es5.github.com/#x9.11" target="_blank" rel="noopener">http://es5.github.com/#x9.11</a><br>    if ({}.toString.call(callback) != “[object Function]”) {<br>      throw new TypeError(callback + “ is not a function”);<br>    }<br><br>    // 5. If thisArg was supplied, let T be thisArg; else let T be undefined.<br>    if (thisArg) {<br>      T = thisArg;<br>    }<br><br>    // 6. Let A be a new array created as if by the expression new Array(len) where Array is<br>    // the standard built-in constructor with that name and len is the value of len.<br>    A = new Array(len);<br><br>    // 7. Let k be 0<br>    k = 0;<br><br>    // 8. Repeat, while k &lt; len<br>    while(k &lt; len) {<br><br>      var kValue, mappedValue;<br><br>      // a. Let Pk be ToString(k).<br>      //   This is implicit for LHS operands of the in operator<br>      // b. Let kPresent be the result of calling the HasProperty internal method of O with argument Pk.<br>      //   This step can be combined with c<br>      // c. If kPresent is true, then<br>      if (k in O) {<br><br>        // i. Let kValue be the result of calling the Get internal method of O with argument Pk.<br>        kValue = O[ k ];<br><br>        // ii. Let mappedValue be the result of calling the Call internal method of callback<br>        // with T as the this value and argument list containing kValue, k, and O.<br>        mappedValue = callback.call(T, kValue, k, O);<br><br>        // iii. Call the DefineOwnProperty internal method of A with arguments<br>        // Pk, Property Descriptor {Value: mappedValue, Writable: true, Enumerable: true, Configurable: true},<br>        // and false.<br><br>        // In browsers that support Object.defineProperty, use the following:<br>        // Object.defineProperty(A, Pk, { value: mappedValue, writable: true, enumerable: true, configurable: true });<br><br>        // For best browser support, use the following:<br>        A[ k ] = mappedValue;<br>      }<br>      // d. Increase k by 1.<br>      k++;<br>    }<br><br>    // 9. return A<br>    return A;<br>  };<br>} </pre><br><br> <strong><code></code></strong></div><br><div><strong><span class="new "><br></span></strong></div><br><div><strong><code><span class="new ">1.7 some(): </span></code></strong>在数组中的每个项上运行一个函数，若存在任意的结果返回真，则返回真值。</div><br><div><br><div><br><div id="section_2"><code>语法：<code><code><em></em><code><em>array</em>.some(<em>callback</em>[, <em>thisObject</em>])</code></code></code></code></div><br><div>参数：</div><br><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code>callback</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 为每个元素执行的测试函数</div><br><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; arguments[0]: 当前元素值</div><br><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; arguments[1]: 当前元位置</div><br><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; arguments[2]: 当前数组</div><br><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code><code><code><code><em>thisObject</em></code></code></code></code>&nbsp;&nbsp;&nbsp;&nbsp; callback 的当前域 this</code>.</div><br><div><span class="new ">兼容性：</span><span class="new ">于 ECMA-262 标准中添加，部分浏览器可能会不支持。您可以添加以下代码来进行支持。该算法严格遵循 ECMA-262 第五版，但必须保证 &nbsp;</span><span class="new "><code style="color: inherit; font-weight: inherit;">Object</code>,&nbsp;<code style="color: inherit; font-weight: inherit;">TypeError</code> 可用，且 <code style="color: inherit; font-weight: inherit;">fun.call</code> 指向 <span style="color: #000000;"><code style="color: inherit; font-weight: inherit;"><span style="text-decoration: none;">Function.prototype.call</span></code></span>。</span></div><br><div><br><pre class="brush: js">if (!Array.prototype.some){<br>  Array.prototype.some = function(fun /<em>, thisp </em>/){<br>    “use strict”;<br><br>    if (this === void 0 || this === null)<br>      throw new TypeError();<br><br>    var t = Object(this);<br>    var len = t.length &gt;&gt;&gt; 0;<br>    if (typeof fun !== “function”)<br>      throw new TypeError();<br><br>    var thisp = arguments[1];<br>    for (var i = 0; i &lt; len; i++){<br>      if (i in t &amp;&amp; fun.call(thisp, t[i], i, t))<br>        return true;<br>    }<br><br>    return false;<br>  };<br>}</pre><br></div><br></div><br></div><br><div id="section_3"><br><h3 class="editable">2. 数组及字符串泛型</h3><br><p>您有时也许会想在字符串类型上使用数组拥有的方法。这样做的话，您实际上将字符串视如一个字符数组。例如，想要检查变量<var> str </var>中是否每个字符都是字母，您可以这样写：</p><br><pre class="brush: js">function isLetter(character) {<br>  return (character &gt;= “a” &amp;&amp; character &lt;= “z”);<br>}<br><br>if (Array.prototype.every.call(str, isLetter))<br>  alert(“The string ‘“ + str + “‘ contains only letters!”);<br></pre><br><p>这种写法有点浪费，故JavaScript 1.6引入了泛型的简洁写法：</p><br><pre class="brush: js">if (Array.every(str, isLetter))<br>  alert(“The string ‘“ + str + “‘ contains only letters!”);</pre><br><p>类似地，您可以简单地将对任何对象应用字符串方法:</p><br><pre class="brush: js">var num = 15;<br>alert(String.replace(num, /5/, ‘2’));</pre><br><h3 class="editable">&nbsp;</h3><br><h3 class="editable">3. For each … in</h3><br><p class="keyword"><code>for each…in</code> 类似于 <code>for…in</code>, 但是迭代的是对象的属性值，并非他的名字。</p><br><p class="keyword">示例：</p><br><pre class="brush: js">    var sum = 0;<br>    var obj = {<br>        prop1: 5, <br>        prop2: 13,<br>       &nbsp;prop3: 8<br>    };  <br><br>    for each (var item in obj) {<br>      sum += item;<br>    }<br>    print(sum); // prints “26”, which is 5+13+8  </pre><br></div>
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/blog/tags/JavaScript/" rel="tag"># JavaScript</a>
          
            <a href="/blog/tags/Mozilla/" rel="tag"># Mozilla</a>
          
            <a href="/blog/tags/Firefox/" rel="tag"># Firefox</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/blog/cjcuko4xo00eq4urqy2j44s42/" rel="next" title="JavaScript 1.8">
                <i class="fa fa-chevron-left"></i> JavaScript 1.8
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/blog/cjcuko57100tu4urqqb52t0tz/" rel="prev" title="jQuery 1.7将HTML5引入IE6-8，实施弃用策略">
                jQuery 1.7将HTML5引入IE6-8，实施弃用策略 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Vanessa</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/blog/archives/">
              
                  <span class="site-state-item-count">874</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">224</span>
                  <span class="site-state-item-name">标签</span>
                
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#undefined"><span class="nav-number">1.</span> <span class="nav-text">1. 数组扩展</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#undefined"><span class="nav-number">2.</span> <span class="nav-text">2. 数组及字符串泛型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#undefined"><span class="nav-number">3.</span> <span class="nav-text"> </span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#undefined"><span class="nav-number">4.</span> <span class="nav-text">3. For each … in</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Vanessa</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/blog/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/blog/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/blog/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/blog/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/blog/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/blog/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/blog/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/blog/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/blog/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/blog/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/blog/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
